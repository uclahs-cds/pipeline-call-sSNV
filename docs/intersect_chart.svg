<?xml version="1.0" encoding="UTF-8" standalone="no"?><svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" contentStyleType="text/css" height="749px" preserveAspectRatio="none" style="width:797px;height:749px;background:#FFFFFF;" version="1.1" viewBox="0 0 797 749" width="797px" zoomAndPan="magnify"><defs/><g><!--MD5=[08aab057b42050ba74f6a48dc2f2fdd1]
entity num_algos--><g id="elem_num_algos"><rect fill="#FFA500" height="36.2969" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="277" x="389.5" y="7"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="257" x="399.5" y="29.9951">Results from two or more algorithms?</text></g><!--MD5=[2d35eb8c84fe194b92b54b4500eaf383]
entity input_vcfs--><g id="elem_input_vcfs"><rect fill="#ADD8E6" height="60.5938" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="279" x="242.5" y="111"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="86" x="252.5" y="133.9951">filtered VCFs</text><line style="stroke:#181818;stroke-width:1.0;" x1="243.5" x2="520.5" y1="137.2969" y2="137.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="243.5" x2="520.5" y1="139.2969" y2="139.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="259" x="252.5" y="154.292">Input: VCFs for all selected algorithms</text></g><!--MD5=[0fd8f188bfbeb3fba7b6400eb538321e]
entity done--><g id="elem_done"><rect fill="#90EE90" height="76.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="234" x="557" y="103"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="24" x="567" y="125.9951">Exit</text><line style="stroke:#181818;stroke-width:1.0;" x1="558" x2="790" y1="129.2969" y2="129.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="558" x2="790" y1="131.2969" y2="131.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="193" x="567" y="146.292">Intersect is only run if two or</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="567" y="162.5889">more algorithms were selected</text></g><!--MD5=[7f434c5ca4dc71c3ad24ab68768acc70]
entity intersect_vcfs_2--><g id="elem_intersect_vcfs_2"><rect fill="#FFFFFF" height="93.1875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="333" x="48.5" y="240"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="58.5" y="262.9951">BCFtools isec -n +2</text><line style="stroke:#181818;stroke-width:1.0;" x1="49.5" x2="380.5" y1="266.2969" y2="266.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="49.5" x2="380.5" y1="268.2969" y2="268.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="309" x="58.5" y="283.292">Output: SNVs found by 2 or more algorithms:</text><ellipse cx="64" cy="295.3906" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="135" x="71.5" y="299.5889">1 VCF per algorithm</text><ellipse cx="64" cy="311.6875" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="71.5" y="315.8857">list of SNVS (README.txt, sites.txt)</text></g><!--MD5=[b39314f0d43bcafefdf47fdb81fafba8]
entity intersect_vcfs_1--><g id="elem_intersect_vcfs_1"><rect fill="#FFFFFF" height="76.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="267" x="416.5" y="248"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="137" x="426.5" y="270.9951">BCFtools isec -n +1</text><line style="stroke:#181818;stroke-width:1.0;" x1="417.5" x2="682.5" y1="274.2969" y2="274.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="417.5" x2="682.5" y1="276.2969" y2="276.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="237" x="426.5" y="291.292">Output: All SNVs, including private:</text><ellipse cx="432" cy="303.3906" fill="#000000" rx="2.5" ry="2.5" style="stroke:#000000;stroke-width:0.0;"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="234" x="439.5" y="307.5889">list of SNVS (README.txt, sites.txt)</text></g><!--MD5=[2b9bd4ae96da871acfb78d8f6955cd30]
entity plot_venn--><g id="elem_plot_venn"><rect fill="#90EE90" height="76.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="265" x="417.5" y="393"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="93" x="427.5" y="415.9951">VennDiagram</text><line style="stroke:#181818;stroke-width:1.0;" x1="418.5" x2="681.5" y1="419.2969" y2="419.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="418.5" x2="681.5" y1="421.2969" y2="421.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="241" x="427.5" y="436.292">Output: plot in TIFF format showing</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="214" x="427.5" y="452.5889">intersection counts for all SNVs</text></g><!--MD5=[efe6e3065744099bda773dd1628534d1]
entity concat_vcfs--><g id="elem_concat_vcfs"><rect fill="#90EE90" height="76.8906" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="244" x="93" y="393"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="113" x="103" y="415.9951">BCFtools concat</text><line style="stroke:#181818;stroke-width:1.0;" x1="94" x2="336" y1="419.2969" y2="419.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="94" x2="336" y1="421.2969" y2="421.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="220" x="103" y="436.292">Output: Single VCF with all SNVs</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="207" x="103" y="452.5889">found by 2 or more algorithms</text></g><!--MD5=[2a587429b5e9c6dff24ce618876fcfbe]
entity vcf2maf--><g id="elem_vcf2maf"><rect fill="#90EE90" height="93.1875" rx="2.5" ry="2.5" style="stroke:#181818;stroke-width:0.5;" width="246" x="92" y="530"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="53" x="102" y="552.9951">vcf2maf</text><line style="stroke:#181818;stroke-width:1.0;" x1="93" x2="337" y1="556.2969" y2="556.2969"/><line style="stroke:#181818;stroke-width:1.0;" x1="93" x2="337" y1="558.2969" y2="558.2969"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="222" x="102" y="573.292">Output: Single MAF with all SNVs</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="212" x="102" y="589.5889">found by 2 or more algorithms:</text><text fill="#000000" font-family="sans-serif" font-size="14" font-style="italic" lengthAdjust="spacing" textLength="131" x="102" y="605.8857">SNV-concat.maf.gz</text></g><!--MD5=[aa8e73f497e8b0d2a5261a873a8cb115]
link num_algos to input_vcfs--><g id="link_num_algos_input_vcfs"><path codeLine="23" d="M455.5,43.2 C455.5,43.2 455.5,105.74 455.5,105.74 " fill="none" id="num_algos-to-input_vcfs" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="455.5,110.74,459.5,101.74,455.5,105.74,451.5,101.74,455.5,110.74" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="26" x="428.5" y="70.5369">true</text></g><!--MD5=[319fb2e176ed65269a7bb9353ad10cf6]
link num_algos to done--><g id="link_num_algos_done"><path codeLine="24" d="M611.75,43.2 C611.75,43.2 611.75,97.71 611.75,97.71 " fill="none" id="num_algos-to-done" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="611.75,102.71,615.75,93.71,611.75,97.71,607.75,93.71,611.75,102.71" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" lengthAdjust="spacing" textLength="30" x="580.75" y="66.5269">false</text></g><!--MD5=[f935d8a1cc909a2d0f5ec68e8fc19996]
link input_vcfs to intersect_vcfs_2--><g id="link_input_vcfs_intersect_vcfs_2"><path codeLine="25" d="M312,172.25 C312,172.25 312,234.8 312,234.8 " fill="none" id="input_vcfs-to-intersect_vcfs_2" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="312,239.8,316,230.8,312,234.8,308,230.8,312,239.8" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[7e2fe279552d2c31216d0a923f909ef6]
link input_vcfs to intersect_vcfs_1--><g id="link_input_vcfs_intersect_vcfs_1"><path codeLine="26" d="M469,172.25 C469,172.25 469,242.77 469,242.77 " fill="none" id="input_vcfs-to-intersect_vcfs_1" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="469,247.77,473,238.77,469,242.77,465,238.77,469,247.77" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[a4e47f2c15ef0716b139fcd68ddbc76f]
link intersect_vcfs_1 to plot_venn--><g id="link_intersect_vcfs_1_plot_venn"><path codeLine="27" d="M550,325.36 C550,325.36 550,387.79 550,387.79 " fill="none" id="intersect_vcfs_1-to-plot_venn" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="550,392.79,554,383.79,550,387.79,546,383.79,550,392.79" style="stroke:#181818;stroke-width:1.0;"/></g><!--MD5=[3227a9180f9f8507dbd0f661ca902f1e]
link intersect_vcfs_2 to concat_vcfs--><g id="link_intersect_vcfs_2_concat_vcfs"><path codeLine="28" d="M215,333.18 C215,333.18 215,387.68 215,387.68 " fill="none" id="intersect_vcfs_2-to-concat_vcfs" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="215,392.68,219,383.68,215,387.68,211,383.68,215,392.68" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="199" x="11" y="356.4969">SNV-concensus-variants.vcf.gz</text></g><!--MD5=[46524ecbb51b93fd9009239b686c07bf]
link concat_vcfs to vcf2maf--><g id="link_concat_vcfs_vcf2maf"><path codeLine="29" d="M215,470.36 C215,470.36 215,524.79 215,524.79 " fill="none" id="concat_vcfs-to-vcf2maf" style="stroke:#181818;stroke-width:1.0;"/><polygon fill="#181818" points="215,529.79,219,520.79,215,524.79,211,520.79,215,529.79" style="stroke:#181818;stroke-width:1.0;"/><text fill="#000000" font-family="sans-serif" font-size="13" font-style="italic" lengthAdjust="spacing" textLength="117" x="93" y="493.6369">SNV-concat.vcf.gz</text></g><rect fill="#DDDDDD" height="97.4844" rx="7.5" ry="7.5" style="stroke:#000000;stroke-width:1.0;" width="154" x="621" y="636.1875"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="36" x="631" y="657.1826">Color</text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="94" x="675" y="657.1826">Process Type</text><rect fill="#ADD8E6" height="16.2969" style="stroke:none;stroke-width:1.0;" width="44" x="627" y="660.4844"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="627" y="673.4795"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="35" x="675" y="673.4795">Input</text><rect fill="#FFFFFF" height="16.2969" style="stroke:none;stroke-width:1.0;" width="44" x="627" y="676.7813"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="627" y="689.7764"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="87" x="675" y="689.7764">Intermediate</text><rect fill="#90EE90" height="16.2969" style="stroke:none;stroke-width:1.0;" width="44" x="627" y="693.0781"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="627" y="706.0732"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="48" x="675" y="706.0732">Output</text><rect fill="#FFFF00" height="16.2969" style="stroke:none;stroke-width:1.0;" width="44" x="627" y="709.375"/><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="4" x="627" y="722.3701"> </text><text fill="#000000" font-family="sans-serif" font-size="14" lengthAdjust="spacing" textLength="21" x="675" y="722.3701">QC</text><line style="stroke:#000000;stroke-width:1.0;" x1="627" x2="769" y1="644.1875" y2="644.1875"/><line style="stroke:#000000;stroke-width:1.0;" x1="627" x2="769" y1="660.4844" y2="660.4844"/><line style="stroke:#000000;stroke-width:1.0;" x1="627" x2="769" y1="676.7813" y2="676.7813"/><line style="stroke:#000000;stroke-width:1.0;" x1="627" x2="769" y1="693.0781" y2="693.0781"/><line style="stroke:#000000;stroke-width:1.0;" x1="627" x2="769" y1="709.375" y2="709.375"/><line style="stroke:#000000;stroke-width:1.0;" x1="627" x2="769" y1="725.6719" y2="725.6719"/><line style="stroke:#000000;stroke-width:1.0;" x1="627" x2="627" y1="644.1875" y2="725.6719"/><line style="stroke:#000000;stroke-width:1.0;" x1="671" x2="671" y1="644.1875" y2="725.6719"/><line style="stroke:#000000;stroke-width:1.0;" x1="769" x2="769" y1="644.1875" y2="725.6719"/><!--MD5=[eb4d77fc8961edddb85aaac12f5d7ded]
@startuml intersect_chart

!include pipeline_elements.iuml!string_functions
!include pipeline_elements.iuml!input_rect
!include pipeline_elements.iuml!output_rect
!include pipeline_elements.iuml!intermediate_rect
!include pipeline_elements.iuml!qc_rect
!include pipeline_elements.iuml!test_rect
!include pipeline_elements.iuml!process_legend

skinparam linetype ortho

$test_process(num_algos, '', 'Results from two or more algorithms?')
$input_process(input_vcfs, 'filtered VCFs', 'Input: VCFs for all selected algorithms')
$output_process(done, 'Exit', 'Intersect is only run if two or %newline()more algorithms were selected')

$intermediate_process(intersect_vcfs_2, "BCFtools isec -n +2", "Output: SNVs found by 2 or more algorithms: %newline()* 1 VCF per algorithm %newline() * list of SNVS (README.txt, sites.txt)")
$intermediate_process(intersect_vcfs_1, "BCFtools isec -n +1", "Output: All SNVs, including private: %newline() * list of SNVS (README.txt, sites.txt)")

$output_process(plot_venn, 'VennDiagram', 'Output: plot in TIFF format showing %newline()intersection counts for all SNVs')
$output_process(concat_vcfs, 'BCFtools concat', 'Output: Single VCF with all SNVs %newline()found by 2 or more algorithms')
$output_process(vcf2maf, 'vcf2maf', 'Output: Single MAF with all SNVs %newline()found by 2 or more algorithms: %newline()//SNV-concat.maf.gz//')

num_algos -d-> input_vcfs: true
num_algos -d-> done: false
input_vcfs -d-> intersect_vcfs_2
input_vcfs -d-> intersect_vcfs_1
intersect_vcfs_1 -d-> plot_venn
intersect_vcfs_2 -d-> concat_vcfs: // SNV-concensus-variants.vcf.gz //
concat_vcfs -d-> vcf2maf: // SNV-concat.vcf.gz //

$add_legend("right")

@enduml

@startuml intersect_chart


skinparam linetype ortho

rectangle num_algos #Orange as "
Results from two or more algorithms?"
rectangle input_vcfs #LightBlue as "
filtered VCFs
====
Input: VCFs for all selected algorithms"
rectangle done #LightGreen as "
Exit
====
Intersect is only run if two or 
more algorithms were selected"

rectangle intersect_vcfs_2 #White as "
BCFtools isec -n +2
====
Output: SNVs found by 2 or more algorithms: 
* 1 VCF per algorithm 
 * list of SNVS (README.txt, sites.txt)"
rectangle intersect_vcfs_1 #White as "
BCFtools isec -n +1
====
Output: All SNVs, including private: 
 * list of SNVS (README.txt, sites.txt)"

rectangle plot_venn #LightGreen as "
VennDiagram
====
Output: plot in TIFF format showing 
intersection counts for all SNVs"
rectangle concat_vcfs #LightGreen as "
BCFtools concat
====
Output: Single VCF with all SNVs 
found by 2 or more algorithms"
rectangle vcf2maf #LightGreen as "
vcf2maf
====
Output: Single MAF with all SNVs 
found by 2 or more algorithms: 
//SNV-concat.maf.gz//"

num_algos -d-> input_vcfs: true
num_algos -d-> done: false
input_vcfs -d-> intersect_vcfs_2
input_vcfs -d-> intersect_vcfs_1
intersect_vcfs_1 -d-> plot_venn
intersect_vcfs_2 -d-> concat_vcfs: // SNV-concensus-variants.vcf.gz //
concat_vcfs -d-> vcf2maf: // SNV-concat.vcf.gz //

legend right
  | Color | Process Type|
  |<#LightBlue>| Input |
  |<#White>| Intermediate |
  |<#LightGreen>| Output |
  |<#Yellow>| QC |
endlegend

@enduml

PlantUML version 1.2022.6(Tue Jun 21 17:34:49 GMT 2022)
(GPL source distribution)
Java Runtime: OpenJDK Runtime Environment
JVM: OpenJDK 64-Bit Server VM
Default Encoding: UTF-8
Language: en
Country: US
--></g></svg>